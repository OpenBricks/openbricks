From 5baa63c634990810a66c3150b4f2b76fcee2df38 Mon Sep 17 00:00:00 2001
From: Xiang, Haihao <haihao.xiang@intel.com>
Date: Fri, 21 Jan 2011 00:45:52 +0000
Subject: Fix an error in 4c4ad555564a80311df1a4b762eb1e119c6d95fb.

See the original patch at https://bugs.freedesktop.org/show_bug.cgi?id=24767

Signed-off-by: Xiang, Haihao <haihao.xiang@intel.com>
---
diff --git a/src/intel_video.c b/src/intel_video.c
index 0d1ffc5..5294f73 100644
--- a/src/intel_video.c
+++ b/src/intel_video.c
@@ -996,7 +996,7 @@ I830CopyPlanarData(intel_adaptor_private *adaptor_priv,
 	/* Copy V data for YV12, or U data for I420 */
 	src2 = buf +		/* start of YUV data */
 	    (srcH * srcPitch) +	/* move over Luma plane */
-	    ((top >> 1) * srcPitch) +	/* move down from by top lines */
+	    ((top >> 1) * srcPitch2) +	/* move down from by top lines */
 	    (left >> 1);	/* move left by left pixels */
 
 #if 0
@@ -1015,7 +1015,7 @@ I830CopyPlanarData(intel_adaptor_private *adaptor_priv,
 	src3 = buf +		/* start of YUV data */
 	    (srcH * srcPitch) +	/* move over Luma plane */
 	    ((srcH >> 1) * srcPitch2) +	/* move over Chroma plane */
-	    ((top >> 1) * srcPitch) +	/* move down from by top lines */
+	    ((top >> 1) * srcPitch2) +	/* move down from by top lines */
 	    (left >> 1);	/* move left by left pixels */
 #if 0
 	ErrorF("src3 is %p, offset is %ld\n", src3,
--
cgit v0.8.3-6-g21f6
