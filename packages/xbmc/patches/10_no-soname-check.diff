diff -Naur xbmc-dharma-rc2.orig//configure xbmc-dharma-rc2/configure
--- xbmc-dharma-rc2.orig//configure	2010-12-05 20:27:04.782121997 +0100
+++ xbmc-dharma-rc2/configure	2010-12-05 20:32:54.432121998 +0100
@@ -10193,33 +10193,6 @@
   xyes) :
 
     INCLUDES="$INCLUDES $LIBBLURAY_CFLAGS";
-    if test "$host_vendor" != "apple"; then
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libbluray soname" >&5
-$as_echo_n "checking for libbluray soname... " >&6; }
-  BLURAY_SONAME=$( $CC -print-file-name=libbluray.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$BLURAY_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "use_libbluray" || test "x${use_libbluray}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libbluray library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libbluray library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libbluray library" >&2;}
-      use_libbluray=no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libbluray support disabled" >&5
-$as_echo "$as_me: WARNING: libbluray support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $BLURAY_SONAME" >&5
-$as_echo "$BLURAY_SONAME" >&6; }
-
-  fi
-
-    fi;
 
 $as_echo "#define HAVE_LIBBLURAY 1" >>confdefs.h
 
@@ -11640,234 +11613,6 @@
   HOST_NOT_APPLE=0
 fi
 
-if test "$host_vendor" != "apple"; then
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libcurl soname" >&5
-$as_echo_n "checking for libcurl soname... " >&6; }
-  CURL_SONAME=$( $CC -print-file-name=libcurl.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$CURL_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libcurl library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libcurl library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libcurl library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libcurl support disabled" >&5
-$as_echo "$as_me: WARNING: libcurl support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CURL_SONAME" >&5
-$as_echo "$CURL_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libFLAC soname" >&5
-$as_echo_n "checking for libFLAC soname... " >&6; }
-  FLAC_SONAME=$( $CC -print-file-name=libFLAC.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$FLAC_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libFLAC library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libFLAC library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libFLAC library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libFLAC support disabled" >&5
-$as_echo "$as_me: WARNING: libFLAC support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $FLAC_SONAME" >&5
-$as_echo "$FLAC_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libvorbisfile soname" >&5
-$as_echo_n "checking for libvorbisfile soname... " >&6; }
-  VORBISFILE_SONAME=$( $CC -print-file-name=libvorbisfile.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$VORBISFILE_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libvorbisfile library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libvorbisfile library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libvorbisfile library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libvorbisfile support disabled" >&5
-$as_echo "$as_me: WARNING: libvorbisfile support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $VORBISFILE_SONAME" >&5
-$as_echo "$VORBISFILE_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libmodplug soname" >&5
-$as_echo_n "checking for libmodplug soname... " >&6; }
-  MODPLUG_SONAME=$( $CC -print-file-name=libmodplug.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$MODPLUG_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libmodplug library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libmodplug library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libmodplug library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libmodplug support disabled" >&5
-$as_echo "$as_me: WARNING: libmodplug support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MODPLUG_SONAME" >&5
-$as_echo "$MODPLUG_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libfaad soname" >&5
-$as_echo_n "checking for libfaad soname... " >&6; }
-  FAAD_SONAME=$( $CC -print-file-name=libfaad.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$FAAD_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libfaad library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libfaad library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libfaad library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libfaad support disabled" >&5
-$as_echo "$as_me: WARNING: libfaad support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $FAAD_SONAME" >&5
-$as_echo "$FAAD_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libmad soname" >&5
-$as_echo_n "checking for libmad soname... " >&6; }
-  MAD_SONAME=$( $CC -print-file-name=libmad.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$MAD_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libmad library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libmad library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libmad library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libmad support disabled" >&5
-$as_echo "$as_me: WARNING: libmad support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $MAD_SONAME" >&5
-$as_echo "$MAD_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libogg soname" >&5
-$as_echo_n "checking for libogg soname... " >&6; }
-  OGG_SONAME=$( $CC -print-file-name=libogg.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$OGG_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libogg library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libogg library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libogg library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libogg support disabled" >&5
-$as_echo "$as_me: WARNING: libogg support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $OGG_SONAME" >&5
-$as_echo "$OGG_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libvorbisenc soname" >&5
-$as_echo_n "checking for libvorbisenc soname... " >&6; }
-  VORBISENC_SONAME=$( $CC -print-file-name=libvorbisenc.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$VORBISENC_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libvorbisenc library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libvorbisenc library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libvorbisenc library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libvorbisenc support disabled" >&5
-$as_echo "$as_me: WARNING: libvorbisenc support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $VORBISENC_SONAME" >&5
-$as_echo "$VORBISENC_SONAME" >&6; }
-
-  fi
-
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libvorbis soname" >&5
-$as_echo_n "checking for libvorbis soname... " >&6; }
-  VORBIS_SONAME=$( $CC -print-file-name=libvorbis.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$VORBIS_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "" || test "x${}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libvorbis library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libvorbis library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libvorbis library" >&2;}
-      =no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libvorbis support disabled" >&5
-$as_echo "$as_me: WARNING: libvorbis support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $VORBIS_SONAME" >&5
-$as_echo "$VORBIS_SONAME" >&6; }
-
-  fi
-
-fi
-
 # WebServer
 if test "$host_vendor" != "apple" ; then
   if test "$use_webserver" = "yes"; then
@@ -12395,33 +12140,6 @@
 
 done
 
-  if test "$use_librtmp" != "no" && test "$host_vendor" != "apple"; then
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for librtmp soname" >&5
-$as_echo_n "checking for librtmp soname... " >&6; }
-  RTMP_SONAME=$( $CC -print-file-name=librtmp.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$RTMP_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "use_librtmp" || test "x${use_librtmp}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of librtmp library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of librtmp library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of librtmp library" >&2;}
-      use_librtmp=no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: librtmp support disabled" >&5
-$as_echo "$as_me: WARNING: librtmp support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $RTMP_SONAME" >&5
-$as_echo "$RTMP_SONAME" >&6; }
-
-  fi
-
-  fi
   if test "$use_librtmp" != "no"; then
 
 $as_echo "#define HAS_LIBRTMP 1" >>confdefs.h
@@ -13122,33 +12840,6 @@
 fi
 
 
-    if test "$host_vendor" != "apple"; then
-
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking for libcrystalhd soname" >&5
-$as_echo_n "checking for libcrystalhd soname... " >&6; }
-  CRYSTALHD_SONAME=$( $CC -print-file-name=libcrystalhd.so | \
-    while read output; do objdump -p $output | \
-      grep "SONAME" | \
-      sed -e 's/ \+SONAME \+//'; done 2> /dev/null )
-  if [ -z "$CRYSTALHD_SONAME" ]; then
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
-$as_echo "no" >&6; }
-    if test -z "use_crystalhd" || test "x${use_crystalhd}" = "xyes"; then
-      as_fn_error $? "Unable to determine soname of libcrystalhd library" "$LINENO" 5
-    else
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: Unable to determine soname of libcrystalhd library" >&5
-$as_echo "$as_me: WARNING: Unable to determine soname of libcrystalhd library" >&2;}
-      use_crystalhd=no
-      { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: libcrystalhd support disabled" >&5
-$as_echo "$as_me: WARNING: libcrystalhd support disabled" >&2;}
-    fi
-  else
-    { $as_echo "$as_me:${as_lineno-$LINENO}: result: $CRYSTALHD_SONAME" >&5
-$as_echo "$CRYSTALHD_SONAME" >&6; }
-
-  fi
-
-    fi
     if test "x$use_crystalhd" != "xno"; then
       SAVE_CFLAGS="$CFLAGS"
       CFLAGS="-llibcrystalhd"
