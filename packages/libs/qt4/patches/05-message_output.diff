--- a/src/corelib/global/qglobal.cpp	2021-12-16 16:05:08.785295075 +0100
+++ b/src/corelib/global/qglobal.cpp	2021-12-16 15:58:48.232118340 +0100
@@ -2385,6 +2385,12 @@
             TPtrC8 part(ptr.Mid(i, qMin(maxBlockSize, ptr.Length()-i)));
             RDebug::Printf(format, &part);
         }
+#elif defined(Q_WS_QWS)
+        if (isatty(fileno(stderr)))
+            do { int len = strcspn(buf, "\n"); fprintf(stderr, "%.*s\r\n", len, buf); buf += len; } while (*buf++);
+        else
+            fprintf(stderr, "%s\n", buf);
+        fflush(stderr);
 #else
         fprintf(stderr, "%s\n", buf);
         fflush(stderr);
