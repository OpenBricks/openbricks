From 9735aa464c64530855e8ec7e1e52bde54f57aacd Mon Sep 17 00:00:00 2001
From: Kshitij Kulshreshtha <kshitij@math.hu-berlin.de>
Date: Tue, 23 Mar 2010 14:31:22 +0100
Subject: [PATCH] changes required to compile

there are still some warnings, but I'll ignore them
---
 rtl2832u.c      |    8 ++++----
 tuner_tua9001.c |    8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/rtl2832u.c b/rtl2832u.c
index c566b4c..6a1a4ce 100644
--- a/rtl2832u.c
+++ b/rtl2832u.c
@@ -9,7 +9,7 @@ int dvb_usb_rtl2832u_debug;
 module_param_named(debug,dvb_usb_rtl2832u_debug, int, 0644);
 MODULE_PARM_DESC(debug, "set debugging level (1=info,xfer=2 (or-able))." DVB_USB_DEBUG_STATUS);
 
-//DVB_DEFINE_MOD_OPT_ADAPTER_NR(adapter_nr);
+DVB_DEFINE_MOD_OPT_ADAPTER_NR(adapter_nr);
 
 #define	USB_EPA_CTL	0x0148
 
@@ -58,9 +58,9 @@ static struct dvb_usb_device_properties rtl2832u_3th_properties;
 static int rtl2832u_usb_probe(struct usb_interface *intf,
 		const struct usb_device_id *id)
 {
-	if ( ( 0== dvb_usb_device_init(intf,&rtl2832u_1st_properties,THIS_MODULE,NULL) )||
-		( 0== dvb_usb_device_init(intf,&rtl2832u_2nd_properties,THIS_MODULE,NULL) ) ||
-		( 0== dvb_usb_device_init(intf,&rtl2832u_3th_properties,THIS_MODULE,NULL) ))
+	if ( ( 0== dvb_usb_device_init(intf,&rtl2832u_1st_properties,THIS_MODULE,NULL,adapter_nr) )||
+		( 0== dvb_usb_device_init(intf,&rtl2832u_2nd_properties,THIS_MODULE,NULL,adapter_nr) ) ||
+		( 0== dvb_usb_device_init(intf,&rtl2832u_3th_properties,THIS_MODULE,NULL,adapter_nr) ))
 		return 0;
 
 	return -ENODEV;
diff --git a/tuner_tua9001.c b/tuner_tua9001.c
index ddbb8c2..1aa97c7 100644
--- a/tuner_tua9001.c
+++ b/tuner_tua9001.c
@@ -799,8 +799,8 @@ Local compiler keeys         ( usage depends on the application )
 ============================================================================*/
 
 #define CRYSTAL_26_MHZ
-//#define CRYSTAL_19.2_MHZ
-//#define CRYSTAL_20.48_MHZ
+#define CRYSTAL_19_2_MHZ
+#define CRYSTAL_20_48_MHZ
 
 //#define AGC_BY_IIC
 //#define AGC_BY_AGC_BUS
@@ -948,13 +948,13 @@ int initializeTua9001 (TUNER_MODULE *pTuner)
   i2cseq[1] = 0x78;
   if(i2cBusWrite (pTuner, DeviceAddr, 0x40, i2cseq, 2) != TUNER_OK) goto error_status;
 
-#elif defined(CRYSTAL_19.2_MHZ)   /*  Frequency 19.2 MHz */
+#elif defined(CRYSTAL_19_2_MHZ)   /*  Frequency 19.2 MHz */
   i2cseq[0] = 0x01;
   i2cseq[1] = 0xA0;    
   if(i2cBusWrite (pTuner, DeviceAddr, 0x1d, i2cseq, 2) != TUNER_OK) goto error_status;
   /* Note: Insert optimised register values for 0x40 / 0x41 for used crystal */
   /* contact application support for further information */
-#elif defined(CRYSTAL_20.48_MHZ)   /*  Frequency 20,48 MHz */
+#elif defined(CRYSTAL_20_48_MHZ)   /*  Frequency 20,48 MHz */
   i2cseq[0] = 0x01;
   i2cseq[1] = 0xA8;    
   if(i2cBusWrite (pTuner, DeviceAddr, 0x1d, i2cseq, 2) != TUNER_OK) goto error_status;
-- 
1.7.0.2

