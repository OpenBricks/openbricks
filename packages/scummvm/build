#!/bin/sh

. config/options

require_cxx $1

$SCRIPTS/build toolchain
$SCRIPTS/build SDL
$SCRIPTS/build zlib

# for debug (will be removed)
#export CFLAGS="-O -g3 -Wall -pipe -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE"
#export CXXFLAGS="-O -g3 -Wall -pipe -D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE"

cd $BUILD/$1*
./configure --host=geexbox-$TARGET_ARCH \
            --prefix=$LIB_PREFIX \
            --backend=sdl \
            --enable-debug \
            --enable-alsa \
            --disable-mt32emu \
            --disable-vorbis \
            --disable-tremor \
            --disable-mad \
            --disable-flac \
            --enable-zlib \
            --disable-mpeg2 \
            --disable-fluidsynth \
            --disable-nasm
make
